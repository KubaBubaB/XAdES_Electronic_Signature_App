# Project tasks

The main task of the project is to design and program an application to make a
qualified electronic signature according to XAdES (XML Advanced Electronic
Signatures) standard concept and to encrypt/decrypt small files (e.g. the documents,
*.cpp files). In general, the application must take a form of a set of tools for realization
the qualified electronic signature.
__________________________________________________________________________________
## Short summary / TODO list:
### Application 1:
##### Functionality 1:
- [X] Application identifies the hardware tool and reads the private key.
- [ ] Entering the PIN number to decrypt the private RSA key stored on the pendrive.
- [ ] Signing the document and generating the signing report.(Electronic signature takes form of the XML file, more in User Story A)
##### Functionality 2:
- [ ] Verification of the signature (using the same application), by having the public key of user A and the document, XML signature file.
- [ ] During the verification user B generates the hash from the document and verifies it with the hash generated by user A (after RSA decryption).
##### Functionality 3:
- [ ] Basic encryption and decryption of files using the RSA keys.
### Application 2:
##### Functionality 1:
- [X] Ability to enter PIN number to generate private RSA key, encrypted by PIN and AES alghoritm.
- [X] Generating private key
- [X] Generating public key
__________________________________________________________________________________
## User Stories
The application must be designed for two users:
#### User A

The user A has a hardware toll (a pendrive) with a private RSA key. The key is
encrypted by AES algorithm using a user’s PIN number. The application identifies the
hardware tool and reads the private key to sign the document and generate the signing report. Before signing the document, user A must enter the PIN number to decrypt the
private RSA key stored on the pendrive. Regarding the XAdES standard, the electronic
signature takes a form of the XML file containing details about the signature and signed
document. The XML signature file must contain:
• General identification of the document (size, extension, date of modification).
• Information about the signing user.
• Encrypted by RSA private key hash of the document.
• Timestamp of the signature (local time of the user A).
#### User B

The second user B must have a possibility to verify the signature (using the same
application), by having the public key of user A and the document, XML signature file.
During the verification user B generates the hash from the document and verifies it
with the hash generated by user A (after RSA decryption).
__________________________________________________________________________________
## Encryption / Decryption in the first application

Another functionality is the basic encryption and decryption using the RSA keys.
This functionality is partially used during signing the documents, but it must also be
provided separately. This process can be tested on small files as the RSA algorithm is
not designed to encrypt large files.
__________________________________________________________________________________
## Second application

Before using the application, the RSA keys must be generated for the user A and
the private one must be encrypted by the AES algorithm and user A PIN number. It is
obligatory to create second, simple application only with this functionality, it will emulate
the trusted third party (TTP).
__________________________________________________________________________________
## Requirements:
• The GUI interface must allow to select the document that will be signed
(minimum two like *.pdf, *.cpp). Also, these types of files must be supported by
the “Encryption / Decryption” functionality.

• The signature must use the RSA algorithm with a 4096-length key.

• The private key stored on the pendrive must be encrypted by the AES algorithm,
where the key is the PIN number (and exactly hash from the PIN) known only
to user A.

• Usage of the pendrive for storing the key is obligatory.

• It is obligatory to implement status/message icons to present the status of the
application (recognition of hardware tool, status of signature, status of
encryption).

• A pseudorandom generator must be used to generate the RSA keys.

• The public key can be stored on the hard disk of the computer or transfer to
another physical computer to verify the signature.

• It is assumed that only user A can sign the documents, there is no need to create
keys for two users.

• It is allowed to use the available implementations of the AES, RSA, SHA
algorithms.
__________________________________________________________________________________
## Notes:
• During realization of the project, it is obligatory to generate the following keys:

    o private and public RSA keys of the user A (used for signing and encrypting/decrypting),
    o local key for the AES algorithm (hash of PIN number) used for securing the RSA private key.
• It must be remembered that the parameters of the cipher (algorithm type, key
size, block size, cipher mode, initial vector) must be set as constants.